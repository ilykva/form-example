(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96],{2181:(e,r,a)=>{"use strict";a.d(r,{p:()=>l});var t=a(5155),s=a(2596),n=a(8740),o=a.n(n);let l=e=>{let{label:r,className:a,error:n,icon:l,...i}=e;return(0,t.jsxs)("label",{className:o().inputWrapper,children:[(0,t.jsx)("div",{className:o().label,children:r}),(0,t.jsxs)("div",{className:o().wrapper,children:[(0,t.jsx)("input",{className:(0,s.A)(o().input,a),...i}),(0,t.jsx)("div",{className:o().icon,children:l})]}),n&&(0,t.jsx)("div",{className:o().error,children:(0,t.jsx)("span",{children:n})})]})}},3294:(e,r,a)=>{"use strict";a.d(r,{n:()=>n});var t=a(5453),s=a(6786);let n=(0,t.v)((0,s.Zr)(e=>({token:null,error:null,loading:!1,restoreStep:1,setRestoreStep:r=>{e({restoreStep:r})},login:async r=>{let{email:a,password:t}=r;e({loading:!0});try{let r=await new Promise((e,r)=>{setTimeout(()=>{"user@example.com"===a&&"password123"===t?e({token:"fake-jwt-token"}):r("Invalid email or password")},1e3)});e({token:r.token,loading:!1})}catch(r){e({error:r}),console.error(r)}},registration:async r=>{let{email:a}=r;e({loading:!0});try{let r=await new Promise((e,r)=>{setTimeout(()=>{"user@example.com"===a?r("This user is already registered"):e({token:"fake-jwt-token"})},1e3)});e({token:r.token,loading:!1})}catch(r){e({error:r}),console.error(r)}},restore:async(r,a)=>{try{let e=await new Promise((e,a)=>{setTimeout(()=>{"user@example.com"===r?e({data:"Password reset confirmation code was sent",status:200}):a("Email is not registered")},1e3)});200===e.status&&(null==a||a())}catch(r){e({error:r}),console.error(r)}},confirmRestore:async(r,a)=>{try{let e=await new Promise((e,a)=>{setTimeout(()=>{"111111"===r?e({data:"Success",status:200}):a("Incorrect code")},1e3)});200===e.status&&(null==a||a())}catch(r){e({error:r}),console.error(r)}},changePassword:async(e,r)=>{try{let a=await new Promise((r,a)=>{setTimeout(()=>{e?r({data:"password changed",status:200}):a({data:"error while change password",status:500})},1e3)});200===a.status&&(null==r||r())}catch(e){console.error(e)}},logout:async()=>{e({token:null})},cleanError:()=>{e({error:null})}}),{name:"auth"}))},3940:(e,r,a)=>{Promise.resolve().then(a.bind(a,7964))},5695:(e,r,a)=>{"use strict";var t=a(8999);a.o(t,"usePathname")&&a.d(r,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(r,{useRouter:function(){return t.useRouter}})},5910:e=>{e.exports={layout:"auth_layout__0g7RT",absolute:"auth_absolute__g9GYX",firstBlock:"auth_firstBlock__CBDBx",secondBlock:"auth_secondBlock__CIfAb",thirdBlock:"auth_thirdBlock__DMgH8",card:"auth_card__3UHkg",forgot:"auth_forgot__22uT5",link:"auth_link__cZ_Ll",btnWrapper:"auth_btnWrapper__VQdna",btn:"auth_btn__P4v3q",nav:"auth_nav__9sQo5",header:"auth_header__FcAqJ",form:"auth_form__FcSZa",error:"auth_error__WpX77",glowing:"auth_glowing__kfr8I"}},7964:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>P});var t=a(5155),s=a(2115),n=a(2181),o=a(5442),l=a(9694),i=a(5695),c=a(3294),u=a(7129);let d=u.Ik({newPassword:u.Yj().min(8,"Must be at least 8 characters long").required("This field is required"),repeatNewPassword:u.Yj().oneOf([u.KR("newPassword")],"Passwords must match").min(8,"Must be at least 8 characters long").required("This field is required")}),m=()=>{let{changePassword:e,setRestoreStep:r}=(0,c.n)(),a=(0,i.useRouter)(),t=(0,s.useRef)(!1),{handleSubmit:n,handleChange:o,errors:u}=(0,l.Wx)({initialValues:{newPassword:"",repeatNewPassword:""},onSubmit:async s=>{let{newPassword:n}=s;t.current=!0,e(n,()=>{r(1),a.push("/auth/login")})},validationSchema:d,validateOnBlur:t.current,validateOnChange:t.current});return{errors:u,handleSubmit:n,handleChange:o}};var h=a(5910),p=a.n(h);let _=()=>{let{handleSubmit:e,handleChange:r,errors:a}=m();return(0,t.jsxs)("form",{className:p().form,onSubmit:e,children:[(0,t.jsx)(n.p,{error:a.newPassword,type:"password",label:"New Password",icon:(0,t.jsx)(o.A,{}),placeholder:"Type your password",name:"newPassword",onChange:r}),(0,t.jsx)(n.p,{error:a.repeatNewPassword,type:"password",label:"Repeat New Password",icon:(0,t.jsx)(o.A,{}),placeholder:"Type your password",name:"repeatNewPassword",onChange:r}),(0,t.jsx)("div",{className:p().btnWrapper,children:(0,t.jsx)("button",{type:"submit",className:p().btn,children:"Change"})})]})},w=s.forwardRef(function(e,r){let{title:a,titleId:t,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),a?s.createElement("title",{id:t},a):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}),x=u.Ik({confirmCode:u.Yj().required("This field is required")}),f=()=>{let{confirmRestore:e,setRestoreStep:r,error:a}=(0,c.n)(),t=(0,s.useRef)(!1),{handleSubmit:n,handleChange:o,errors:i}=(0,l.Wx)({initialValues:{confirmCode:""},onSubmit:async a=>{let{confirmCode:s}=a;t.current=!0,e(s,()=>{r(3)})},validationSchema:x,validateOnChange:t.current,validateOnBlur:t.current});return{serverError:a,errors:i,handleSubmit:n,handleChange:o}},b=()=>{let{handleSubmit:e,handleChange:r,errors:a}=f();return(0,t.jsxs)("form",{className:p().form,onSubmit:e,children:[(0,t.jsx)(n.p,{error:a.confirmCode,type:"text",label:"Confirm code",icon:(0,t.jsx)(w,{}),placeholder:"Type confirm code",name:"confirmCode",onChange:r}),(0,t.jsx)("div",{className:p().btnWrapper,children:(0,t.jsx)("button",{type:"submit",className:p().btn,children:"Restore"})})]})};var j=a(6874),g=a.n(j),v=a(4170);let k=u.Ik({email:u.Yj().email("Must be a valid email address").required("This field is required")}),y=()=>{let{restore:e,setRestoreStep:r,error:a}=(0,c.n)(),t=(0,s.useRef)(!1),{handleSubmit:n,handleChange:o,errors:i}=(0,l.Wx)({initialValues:{email:""},onSubmit:async a=>{let{email:s}=a;t.current=!0,e(s,()=>{r(2)})},validationSchema:k,validateOnBlur:t.current,validateOnChange:t.current});return{serverError:a,errors:i,handleSubmit:n,handleChange:o}},N=()=>{let{handleSubmit:e,handleChange:r,errors:a,serverError:s}=y();return(0,t.jsxs)("form",{className:p().form,onSubmit:e,children:[(0,t.jsx)(n.p,{error:a.email,type:"email",label:"Email",icon:(0,t.jsx)(v.A,{}),placeholder:"Type your email",name:"email",onChange:r}),(0,t.jsxs)("div",{className:p().btnWrapper,children:[(0,t.jsx)("button",{type:"submit",className:p().btn,children:"Restore"}),s&&(0,t.jsx)("div",{className:p().error,children:s})]}),(0,t.jsxs)("div",{className:p().nav,children:[(0,t.jsx)("div",{children:"Remember account?"}),(0,t.jsx)(g(),{href:"/auth/login",className:p().link,children:"Login"})]})]})},P=()=>{let{restoreStep:e,setRestoreStep:r}=(0,c.n)(),a=(0,s.useMemo)(()=>{switch(e){case 1:return(0,t.jsx)(N,{});case 2:return(0,t.jsx)(b,{});case 3:return(0,t.jsx)(_,{})}},[e]);return(0,s.useEffect)(()=>()=>{r(1)},[]),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:p().header,children:"Restore password"}),a]})}},8740:e=>{e.exports={inputWrapper:"Input_inputWrapper__yzRlT",label:"Input_label__uSO6_",wrapper:"Input_wrapper__E_djO",input:"Input_input__ckjpx",icon:"Input_icon__lLLNV",error:"Input_error__tUeEu"}}},e=>{var r=r=>e(e.s=r);e.O(0,[171,63,441,684,358],()=>r(3940)),_N_E=e.O()}]);