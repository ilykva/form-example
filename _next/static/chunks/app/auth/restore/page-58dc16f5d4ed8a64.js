(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96],{2181:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var a=t(5155),s=t(2596),n=t(8740),o=t.n(n);let l=e=>{let{label:r,className:t,error:n,icon:l,...i}=e;return(0,a.jsxs)("label",{className:o().inputWrapper,children:[(0,a.jsx)("div",{className:o().label,children:r}),(0,a.jsxs)("div",{className:o().wrapper,children:[(0,a.jsx)("input",{className:(0,s.A)(o().input,t),...i}),(0,a.jsx)("div",{className:o().icon,children:l})]}),n&&(0,a.jsx)("div",{className:o().error,children:(0,a.jsx)("span",{children:n})})]})}},3294:(e,r,t)=>{"use strict";t.d(r,{n:()=>n});var a=t(5453),s=t(6786);let n=(0,a.v)((0,s.Zr)(e=>({token:null,error:null,loading:!1,restoreStep:1,setRestoreStep:r=>{e({restoreStep:r})},login:async r=>{let{email:t,password:a}=r;e({loading:!0});try{let r=await new Promise((e,r)=>{setTimeout(()=>{"user@example.com"===t&&"password123"===a?e({token:"fake-jwt-token"}):r("Invalid email or password")},1e3)});e({token:r.token,loading:!1})}catch(r){e({error:r}),console.error(r)}},registration:async r=>{let{email:t}=r;e({loading:!0});try{let r=await new Promise((e,r)=>{setTimeout(()=>{"user@example.com"===t?r("This user is already registered"):e({token:"fake-jwt-token"})},1e3)});e({token:r.token,loading:!1})}catch(r){e({error:r}),console.error(r)}},restore:async(r,t)=>{try{let e=await new Promise((e,t)=>{setTimeout(()=>{"user@example.com"===r?e({data:"Password reset confirmation code was sent",status:200}):t("Email is not registered")},1e3)});200===e.status&&(null==t||t())}catch(r){e({error:r}),console.error(r)}},confirmRestore:async(r,t)=>{try{let e=await new Promise((e,t)=>{setTimeout(()=>{"111111"===r?e({data:"Success",status:200}):t("Incorrect code")},1e3)});200===e.status&&(null==t||t())}catch(r){e({error:r}),console.error(r)}},changePassword:async(e,r)=>{try{let t=await new Promise((r,t)=>{setTimeout(()=>{e?r({data:"password changed",status:200}):t({data:"error while change password",status:500})},1e3)});200===t.status&&(null==r||r())}catch(e){console.error(e)}},logout:async()=>{e({token:null})},cleanError:()=>{e({error:null})}}),{name:"auth"}))},3940:(e,r,t)=>{Promise.resolve().then(t.bind(t,7964))},5695:(e,r,t)=>{"use strict";var a=t(8999);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}})},5910:e=>{e.exports={layout:"auth_layout__0g7RT",absolute:"auth_absolute__g9GYX",firstBlock:"auth_firstBlock__CBDBx",secondBlock:"auth_secondBlock__CIfAb",thirdBlock:"auth_thirdBlock__DMgH8",card:"auth_card__3UHkg",forgot:"auth_forgot__22uT5",link:"auth_link__cZ_Ll",btnWrapper:"auth_btnWrapper__VQdna",btn:"auth_btn__P4v3q",btnContent:"auth_btnContent__gGoq8",nav:"auth_nav__9sQo5",header:"auth_header__FcAqJ",form:"auth_form__FcSZa",error:"auth_error__WpX77",glowing:"auth_glowing__kfr8I"}},7964:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>P});var a=t(5155),s=t(2115),n=t(2181),o=t(5442),l=t(9694),i=t(5695),c=t(3294),u=t(7129);let d=u.Ik({newPassword:u.Yj().min(8,"Must be at least 8 characters long").required("This field is required"),repeatNewPassword:u.Yj().oneOf([u.KR("newPassword")],"Passwords must match").min(8,"Must be at least 8 characters long").required("This field is required")}),m=()=>{let{changePassword:e,setRestoreStep:r}=(0,c.n)(),t=(0,i.useRouter)(),a=(0,s.useRef)(!1),{handleSubmit:n,handleChange:o,errors:u}=(0,l.Wx)({initialValues:{newPassword:"",repeatNewPassword:""},onSubmit:async s=>{let{newPassword:n}=s;a.current=!0,e(n,()=>{r(1),t.push("/auth/login")})},validationSchema:d,validateOnBlur:a.current,validateOnChange:a.current});return{errors:u,handleSubmit:n,handleChange:o}};var h=t(5910),p=t.n(h);let _=()=>{let{handleSubmit:e,handleChange:r,errors:t}=m();return(0,a.jsxs)("form",{className:p().form,onSubmit:e,children:[(0,a.jsx)(n.p,{error:t.newPassword,type:"password",label:"New Password",icon:(0,a.jsx)(o.A,{}),placeholder:"Type your password",name:"newPassword",onChange:r}),(0,a.jsx)(n.p,{error:t.repeatNewPassword,type:"password",label:"Repeat New Password",icon:(0,a.jsx)(o.A,{}),placeholder:"Type your password",name:"repeatNewPassword",onChange:r}),(0,a.jsx)("div",{className:p().btnWrapper,children:(0,a.jsx)("button",{type:"submit",className:p().btn,children:(0,a.jsx)("span",{className:p().btnContent,children:"Change"})})})]})},w=s.forwardRef(function(e,r){let{title:t,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},n),t?s.createElement("title",{id:a},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}),x=u.Ik({confirmCode:u.Yj().required("This field is required")}),b=()=>{let{confirmRestore:e,setRestoreStep:r,error:t}=(0,c.n)(),a=(0,s.useRef)(!1),{handleSubmit:n,handleChange:o,errors:i}=(0,l.Wx)({initialValues:{confirmCode:""},onSubmit:async t=>{let{confirmCode:s}=t;a.current=!0,e(s,()=>{r(3)})},validationSchema:x,validateOnChange:a.current,validateOnBlur:a.current});return{serverError:t,errors:i,handleSubmit:n,handleChange:o}},j=()=>{let{handleSubmit:e,handleChange:r,errors:t}=b();return(0,a.jsxs)("form",{className:p().form,onSubmit:e,children:[(0,a.jsx)(n.p,{error:t.confirmCode,type:"text",label:"Confirm code",icon:(0,a.jsx)(w,{}),placeholder:"Type confirm code",name:"confirmCode",onChange:r}),(0,a.jsx)("div",{className:p().btnWrapper,children:(0,a.jsx)("button",{type:"submit",className:p().btn,children:(0,a.jsx)("span",{className:p().btnContent,children:"Restore"})})})]})};var f=t(6874),g=t.n(f),v=t(4170);let k=u.Ik({email:u.Yj().email("Must be a valid email address").required("This field is required")}),y=()=>{let{restore:e,setRestoreStep:r,error:t}=(0,c.n)(),a=(0,s.useRef)(!1),{handleSubmit:n,handleChange:o,errors:i}=(0,l.Wx)({initialValues:{email:""},onSubmit:async t=>{let{email:s}=t;a.current=!0,e(s,()=>{r(2)})},validationSchema:k,validateOnBlur:a.current,validateOnChange:a.current});return{serverError:t,errors:i,handleSubmit:n,handleChange:o}},N=()=>{let{handleSubmit:e,handleChange:r,errors:t,serverError:s}=y();return(0,a.jsxs)("form",{className:p().form,onSubmit:e,children:[(0,a.jsx)(n.p,{error:t.email,type:"email",label:"Email",icon:(0,a.jsx)(v.A,{}),placeholder:"Type your email",name:"email",onChange:r}),(0,a.jsxs)("div",{className:p().btnWrapper,children:[(0,a.jsx)("button",{type:"submit",className:p().btn,children:(0,a.jsx)("span",{className:p().btnContent,children:"Restore"})}),s&&(0,a.jsx)("div",{className:p().error,children:s})]}),(0,a.jsxs)("div",{className:p().nav,children:[(0,a.jsx)("div",{children:"Remember account?"}),(0,a.jsx)(g(),{href:"/auth/login",className:p().link,children:"Login"})]})]})},P=()=>{let{restoreStep:e,setRestoreStep:r}=(0,c.n)(),t=(0,s.useMemo)(()=>{switch(e){case 1:return(0,a.jsx)(N,{});case 2:return(0,a.jsx)(j,{});case 3:return(0,a.jsx)(_,{})}},[e]);return(0,s.useEffect)(()=>()=>{r(1)},[]),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:p().header,children:"Restore password"}),t]})}},8740:e=>{e.exports={inputWrapper:"Input_inputWrapper__yzRlT",label:"Input_label__uSO6_",wrapper:"Input_wrapper__E_djO",input:"Input_input__ckjpx",icon:"Input_icon__lLLNV",error:"Input_error__tUeEu"}}},e=>{var r=r=>e(e.s=r);e.O(0,[171,63,441,684,358],()=>r(3940)),_N_E=e.O()}]);